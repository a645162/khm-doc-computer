# Init Disk

## Gpt

要在新的硬盘 `/dev/sde` 上初始化 GPT 分区表并创建一个 ext4 文件系统的分区，你可以按照以下步骤操作。请确保你已经备份了所有重要数据，因为这些命令会擦除磁盘上的所有现有数据。

1. **安装必要的工具**（如果尚未安装）：
   确保你的系统上有 `gdisk` 或 `parted` 工具。对于大多数现代Linux发行版来说，它们通常是默认安装的。如果没有，可以通过包管理器安装，例如在Debian/Ubuntu上使用 `sudo apt-get install gdisk` 或者 `sudo apt-get install parted`。

2. **使用 gdisk 创建 GPT 分区表**：
   使用 `gdisk` 命令行工具来初始化 GPT 分区表和创建分区。
   
   ```bash
   sudo gdisk /dev/sde
   ```

   在 `gdisk` 提示符下，执行以下命令：

   - 输入 `o` 来创建一个新的空的 GPT 分区表。
   - 输入 `n` 来添加一个新分区。按提示输入分区号（通常默认即可），选择第一个扇区（默认是第一可用扇区），最后一个扇区（默认是使用整个剩余磁盘空间），以及分配类型代码（对于 Linux 文件系统，可以保留默认值 8300）。
   - 输入 `w` 来写入更改并退出。这将应用更改到磁盘。

3. **格式化分区为 ext4**：
   使用 `mkfs.ext4` 命令来格式化新创建的分区为 ext4 文件系统。假设刚刚创建的分区是 `/dev/sde1`：

   ```bash
   sudo mkfs.ext4 /dev/sde1
   ```

4. **验证新分区**：
   可以使用 `lsblk` 或 `fdisk -l` 查看新创建的分区及其文件系统类型。

   ```bash
   lsblk -f
   ```

5. **挂载新分区**（可选）：
   如果你想立即使用这个新分区，你需要把它挂载到文件系统中的某个点。

   ```bash
   sudo mkdir -p /mnt/newpartition
   sudo mount /dev/sde1 /mnt/newpartition
   ```

6. **更新 `/etc/fstab`**（可选）：
   如果你希望在每次启动时自动挂载该分区，你需要编辑 `/etc/fstab` 文件，并添加一行来定义如何挂载这个新分区。

完成以上步骤后，你就成功地初始化了一个新的硬盘为 GPT 分区表，并创建了一个 ext4 文件系统的分区。请根据实际情况调整设备名称和挂载点路径。如果你不熟悉这些命令，请小心操作以免误删数据。


